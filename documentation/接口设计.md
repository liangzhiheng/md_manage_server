# 接口文档
## 一、用户管理接口
#### 1. 用户管理接口
| 序号 | 请求方法 | 请求URL | 参数 | 描述 |
| :-- | :-- | :-- | :-- | :-- |
| 1 | POST | /user/register | {"account": 账号, "name": 昵称, "password": 密码} | 用户注册 |
| 2 | POST | /user/login | {"account": 账号, "password": 密码} | 用户登录 |
| 3 | GET | /user/logout |   | 用户登出 |
| 4 | GET | /user/self |   | 获取个人用户信息 |
| 5 | PUT | /user/self | {"name": 新昵称, "password": 新密码} | 修改个人信息 |
| 6 | DELETE | /user/self |   | 注销个人账号 |
| 7 | GET | /user/self/avatar |   | 获取个人头像 |
| 8 | POST | /user/self/avatar |   | 上传个人头像 |
| 9 | PUT | /user/self/avatar |   | 修改个人头像 |
| 10 | GET | /user/manage | ?name=名称&page=页码&page_size=页面大小 | 获取用户列表 |
| 11 | POST | /user/manage | {"account": 账号, "name": 昵称, "password": 密码, "is_admin": 是否为管理员} | 创建用户 |
| 12 | DELETE | /user/manage | {"ids": [用户ID列表]} | 批量删除用户 |
| 13 | GET | /user/manage/`<id>` |   | 获取指定用户信息 |
| 14 | PUT | /user/manage/`<id>` | {"name": 昵称, "password": 密码, "is_admin": 是否为管理员} | 修改用户信息 |
| 15 | DELETE | /user/manage/`<id>` |   | 删除用户 |
| 16 | GET | /user/avatar/`<id>` |   | 获取用户头像 |
| 17 | POST | /user/avatar/`<id>` |   | 上传用户头像 |
| 18 | PUT | /user/avatar/`<id>` |   | 修改用户头像 |
| 19 | DELETE | /user/avatar/`<id>` |   | 删除用户头像 |

## 二、标签管理接口
#### 1. 标签管理接口
| 序号 | 请求方法 | 请求URL | 参数 | 描述 |
| :-- | :-- | :-- | :-- | :-- |
| 1 | GET | /label/ | ?name=名称&type=类型&page=页码&page_size=页面大小 | 获取标签列表 |
| 2 | POST | /label/ | {"name": 名称, "type": 类型（文、音、像之一）, "desc": 描述} | 新增标签 |
| 3 | DELETE | /label/ | {"ids": 标签ID列表} | 批量删除标签 |
| 3 | GET | /label/`<id>` |   | 获取单个标签信息 |
| 4 | PUT | /label/`<id>` | {"name": 名称, "type": 类型（文、音、像之一）, "desc": 描述} | 更新单个标签信息 |
| 5 | DELETE | /label/`<id>` |   | 删除单个标签信息 |

## 三、音频管理
#### 1. 歌手管理接口
| 序号 | 请求方法 | 请求URL | 参数 | 描述 |
| :-- | :-- | :-- | :-- | :-- |
| 1 | GET | /audio/singer | ?name=名称 | 获取歌手列表 |
| 2 | POST | /audio/singer | {"name": 名称, "desc": 简介} | 新增歌手 |
| 3 | DELETE | /audio/singer | {"ids": 歌手ID列表} | 批量删除歌手 |
| 4 | GET | /audio/singer/`<id>` |   | 获取单个歌手信息 |
| 5 | PUT | /audio/singer/`<id>` | {"name": 名称, "desc": 简介} | 更新歌手信息 |
| 6 | DELETE | /audio/singer/`<id>` |   | 删除单个歌手信息 |
| 7 | GET | /audio/singer/avatar/`<id>` |   | 获取歌手头像 |
| 8 | POST | /audio/singer/avatar/`<id>` |   | 上传歌手头像 |
| 9 | PUT | /audio/singer/avatar/`<id>` |   | 更新歌手头像 |
#### 2. 专辑管理接口
| 序号 | 请求方法 | 请求URL | 参数 | 描述 |
| :-- | :-- | :-- | :-- | :-- |
| 1 | GET | /audio/album | ?name=专辑名称&singer_id=歌手ID | 获取专辑列表 |
| 2 | POST | /audio/album | {"name": 名称, "desc": 描述, "singer_id": 歌手ID} | 新增专辑 |
| 3 | DELETE | /audio/album | {"ids": 专辑ID列表} | 批量删除专辑 |
| 4 | GET | /audio/album/`<id>` |   | 获取单个专辑信息 |
| 5 | PUT | /audio/album/`<id>` | {"name": 名称, "desc": 描述, "singer_id": 歌手ID} | 修改专辑信息 |
| 6 | DELETE | /audio/album/`<id>` |   | 删除指定专辑 |
| 7 | GET | /audio/album/theme/`<id>` |   | 获取专辑主题图片 |
| 8 | POST | /audio/album/theme/`<id>` |   | 上传专辑主题图片 |
| 9 | PUT | /audio/album/theme/`<id>` |   | 更新专辑主题图片 |
#### 3. 分组管理接口
| 序号 | 请求方法 | 请求URL | 参数 | 描述 |
| :-- | :-- | :-- | :-- | :-- |
| 1 | GET | /audio/group | ?name=名称&creator_id=创建者ID&private=是否私密（bool） | 获取音乐组列表 |
| 2 | POST | /audio/group | {"name": 名称, "creator_id": 创建者ID, "private": 是否私密, "desc": 描述} | 新建分组 |
| 3 | DELETE | /audio/group | {"ids": 分组ID列表} | 批量删除分组 |
| 4 | GET | /audio/group/`<id>` |   | 获取单个分组信息 |
| 5 | PUT | /audio/group/`<id>` | {"name": 名称, "private": 是否私密, "desc": 描述} | 修改指定分组信息 |
| 6 | DELETE | /audio/group/`<id>` |   | 删除指定分组 |
| 7 | GET | /audio/group/theme/`<id>` |   | 获取分组主题图片 |
| 8 | POST | /audio/group/theme/`<id>` |   | 上传分组主题图片 |
| 9 | PUT | /audio/group/theme/`<id>` |   | 更新分组主题图片 |
| 10 | PUT | /audio/group/audio/`<id>` | {"ids": 音频ID列表} | 向组内添加音乐 |
| 11 | DELETE | /audio/group/audio/`<id>` | {"ids": 音频ID列表} | 移除组内音乐 |
#### 4. 音频管理接口
| 序号 | 请求方法 | 请求URL | 参数 | 描述 |
| :-- | :-- | :-- | :-- | :-- |
| 1 | GET | /audio/ | ?name=名称&singer_id=歌手ID&album_id=专辑ID&upload_user=上传者ID&group_id=分组ID&labels_id=标签ID列表 | 获取音频列表 |
| 2 | POST | /audio | {"name": 名称, "singer_id": 歌手ID列表, "album_id": 专辑ID, "labels_id": 标签ID列表} | 创建音频元数据 |
| 3 | DELETE | /audio/ | {"ids": 音频ID列表} | 批量删除音频 |
| 4 | GET | /audio/`<id>` |   | 获取单个音频信息 |
| 5 | PUT | /audio/`<id>` | {"name": 名称, "singer_id": 歌手ID列表-‘, "album_id": 专辑ID, "labels_id": 标签ID列表} | 修改音频元数据 |
| 6 | DELETE | /audio/`<id>` |   | 删除指定音频 |
| 7 | GET | /audio/download/`<id>` |   | 下载音频 |
| 8 | POST | /audio/upload/`<id>` |   | 上传音频 |
| 9 | PUT | /audio/upload/`<id>` |   | 更新音频 |




#### 2. 视频元数据管理接口
| 序号 | 请求方法 | 请求URL | 参数 | 描述 |
| :-- | :-- | :-- | :-- | :-- |
| 1 | GET | /video/meta | ?page=页码&&page_size=页面大小&&type=视频类型&&labels=[标签ID列表]&&name=名称 | 获取视频元数据列表 |
| 2 | POST | /video/meta | {"name": 名称, "type": 视频类型,"labels": [标签ID列表], "episodes": 集数} | 新增视频 |
| 3 | DELETE | /video/meta | {"ids": [视频ID列表]} | 批量删除视频 |
| 4 | GET | /video/meta/`<id>` |   | 获取单个视频信息 |
| 5 | PUT | /video/meta/`<id>` | {"name": 名称, "type": 视频类型, "labels": [标签ID列表], "episodes": 集数} | 更新单个视频信息 |

#### 3. 视频数据管理接口
| 序号 | 请求方法 | 请求URL | 参数 | 描述 |
| :-- | :-- | :-- | :-- | :-- |
| 1 | GET | /video/data | ?id=视频ID&&episode=集数 | 视频下载 |
| 2 | POST | /video/data | {"id": 视频ID, "episode": 集数} | 上传视频 |
| 3 | GET | /video/`<filename>` | ?id=视频ID&&episode=集数 | 视频观看 |
| 4 | GET | /video/`<filename>`/posters |   | 获取海报 |
| 5 | POST | /video/`<filename>`/posters |   | 上传海报 |
| 6 | PUT | /video/`<filename>`/posters |   | 更新海报 |

#### 4. 海报管理接口
| 序号 | 请求方法 | 请求URL | 参数 | 描述 |
| :-- | :-- | :-- | :-- | :-- |
| 1 | GET | /video/posters/`<id>` | 图片文件 | 获取海报 |
| 2 | POST | /video/posters/`<id>` | 图片文件 | 上传海报 |
| 3 | PUT | /video/posters/`<id>` |   | 更新海报 |
| 4 | DELETE | /video/posters/`<id>` |   | 删除海报 |